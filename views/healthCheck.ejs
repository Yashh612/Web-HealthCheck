<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zestgeek APM Checks</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div class="flex flex-col font-sans bg-gray-200 m-0 p-5">
        <div class="w-full bg-red-200 flex flex-row justify-between p-4">
            <span>Zestgeek APM </span>
            <span>Global Graph Canvas</span>
        </div>

        <div class="flex flex-row">
            <div class="w-1/3 p-4 bg-indigo-200">
                <h3 class="text-green-400 text-[20px]">
                    System Health Check
                </h3>

                <div class="py-4 px-4 bg-red-300 border border-bottom">
                    <strong>Memory Usage:</strong> <span id="memoryUsage">
                        <%= systemHealth.memoryUsage %> bytes
                    </span><br />
                    <strong>CPU Load:</strong> <span id="cpuLoad">
                        <%= systemHealth.cpuLoad.join(', ') %></span><br />
                    <strong>Uptime:</strong> <span id="uptime"><%= systemHealth.uptime.toFixed(2) %> seconds</span><br /><br />
                </div>
                <div class="w-full">
                    <%- include('siteList'); %>
                </div>

                <div>
                    <h3 style="text-align: center;">Site Health Check</h3>
                    <form id="siteHealthForm">
                        <label>Site:</label>
                        <input type="text" id="url" placeholder="Enter URL">
                        <button type="submit" id="siteSubmit">Check Health</button>
                    </form>
                </div>
                <div>
                    <h3 style="text-align: center;">Sites Available</h3>
                    <div id="websites-container"></div> <!-- This div will hold the website names -->
                    <div class="panel"></div>
                </div>

            </div>
            <div class="w-2/3 p-4 bg-indigo-200 text-center">
                <h3 class="text-amber-300 text-[20px]">
                    System Health Check
                </h3>
                <div class="flex flex-row bg-indigo-200 " >
                    <!-- <%- include('GraphCanvas'); %> -->
                    <div class="bg-purple-300 w-full flex flex-wrap" id="charts">
                        <!-- canvas div will be placed here - dynamically -->
                    </div>
                </div>

            </div>
        </div>
        
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/js/healthCheck.js"></script>

</body>
</html>