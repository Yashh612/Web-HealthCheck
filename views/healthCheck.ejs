<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zestgeek APM Checks</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div class="flex flex-col font-sans bg-gray-200 p-5">
        <div class="flex flex-row min-h-screen">
            <div class="w-[35%] sticky top-10  h-fit z-10 border-4 border-double border-[#52c0c0] p-2">
                <h3 class="text-[20px] text-center my-5 text-black font-bold">
                    Application Monitoring System
                </h3>
                <div class="bg-white border border-bottom">
                    <strong>Memory Usage:</strong> <span id="memoryUsage">
                        <%= systemHealth.memoryUsage %> bytes
                    </span><br />
                    <strong>CPU Load:</strong> <span id="cpuLoad">
                        <%= systemHealth.cpuLoad.join(', ') %></span><br />
                    <strong>Uptime:</strong> <span id="uptime"><%= systemHealth.uptime.toFixed(2) %> seconds</span><br /><br />
                </div>
                <div class="w-full py-5"> <!-- site List -->
                    <%- include('siteList'); %>
                </div>
            </div>
            <div class="w-[65%]">
                <div class="flex flex-row justify-between" >
                    <!-- <%- include('GraphCanvas'); %> -->
            <div class="h-fit flex flex-row flex-wrap gap-4 p-4 items-center w-full " id="charts">
                        <!-- canvas div will be placed here - dynamically -->
                    </div>
                </div>

            </div>
        </div>
        
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="./healthCheck.js"></script>

</body>
</html>